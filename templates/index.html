<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Job Records</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <form class="add_record" action="/add_record" method="post">
        <label for="">Job Title</label>
        <input type="text" name="job_title">
        <br>
        <label for="">Company Name</label>
        <input type="text" name="company">
        <br>
        <label for="">Job URL</label>
        <input type="url" name="job_url" id="add_URL">
        <button type="button" class="get_info" onclick="get_info_from('#add_URL')">get info</button>
        <br>
        <label for="">Score (of 5)</label>
        <input type="number" name="score">
        <br>
        <label for="">Salary</label>
        <input type="number" name="salary">
        <br>
        <input type="submit" value="Add">
        <input type="reset" value="Cancel">
    </form>
    <form class="edit_record hidden" action="/edit_record" method="post">
        <label for="">Job Title</label>
        <input type="text" name="job_title">
        <br>
        <label for="">Company Name</label>
        <input type="text" name="company">
        <br>
        <label for="">Job URL</label>
        <input type="url" name="job_url" class="job_url" id="edit_URL">
        <button type="button" class="get_info" onclick="get_info_from('#edit_URL')">get info</button>
        <br>
        <label for="">Score (of 5)</label>
        <input type="number" name="score">
        <br>
        <label for="">Salary</label>
        <input type="number" name="salary">
        <br>
        <input style="display: none;" type="number" name="id">
        <input type="submit" value="Save">
        <input type="reset" value="Cancel" onclick="show_add_form();">
    </form>
    <ul>
        {% for job in job_list %}
        <li "data-id={{ job['id'] }}">
            <div class="job_info">
                <div class="job_title">{{ job['job_title'] }}</div>
                <div class="company_name">{{ job['company'] }}</div>
                <div class="salary">$ {{ job['salary'] }}</div>
                <div class="score">{{ job['score'] }} / 5</div>
                <a href="{{ job['job_url'] }}">{{ job['job_url'] }}</a>
            </div>
            <div class="controls">
                <button onclick="delete_record({{ job['id'] }})">
                    <img src="{{ url_for('static', filename='./img/delete.svg') }}" alt="delete">
                </button>
                <button onclick="edit_record({{ job['id'] }})">
                    <img src="{{ url_for('static', filename='./img/edit.svg') }}" alt="edit">
                </button>
            </div>
        </li>
        {% endfor %}
    </ul>
    <script src="{{ url_for('static', filename='./js/main.js') }}"></script>
</body>
</html>
